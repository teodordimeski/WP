<h4><strong style="font-size: 1.40625rem; color: rgb(73, 80, 87);">⚠️</strong><span style="color: red;"><strong>
ВАЖНО</strong></span><strong style="font-size: 1.40625rem; color: rgb(73, 80, 87);">⚠️</strong></h4>
<h4></h4>
<h4>
<p></p>
<ul>
<li><strong><strong style="font-size: 1.2rem;">Задолжително внесете го ТОЧНО вашиот број на ИНДЕКС на местото означено со TODO во класата SeleniumScenarioTest.java!</strong></strong></li>
</ul>
<ul>
<ul>
<ul>
<li><strong style="font-size: 1.1rem;">Доколку не внесете број на индекс при извршувањето на тестовите - вашето решение НЕМА ДА БИДЕ ИСПРАТЕНО НА НАШИОТ СЕРВЕР и следствено НЕМА ДА БИДЕ ПРЕГЛЕДАНО!&nbsp;</strong></li>
</ul>
</ul>
</ul>
<ul>
<ul></ul>
</ul>
<ul>
<ul>
<ul>
<li><strong style="font-size: 1.1rem;">Доколку&nbsp;<span>внесете ПОГРЕШЕН ИНДЕКС и така ги извршите тестовите, вашето решение ќе БИДЕ ОЗНАЧЕНО И НЕМА ДА БИДЕ ПРЕГЛЕДАНО!</span></strong></li></ul></ul></ul>
<ul>
<li><strong style="font-size: 1.2rem;"><strong style="font-size: 1.2rem;" open-brain-id="open-brain-value">Задолжително ПРИКАЧЕТЕ .zip од целосниот проект на вашето решение на означеното место во квизот!</strong></strong></li>
</ul>
<ul>
<ul>
<ul>
<li><strong style="font-size: 1.1rem;">Доколку немате прикачен .zip од вашето решение, ЌЕ ИМАТЕ 0 ПОЕНИ, без разлика дали сте испратиле решение на нашиот сервер или не!<br></strong></li>
</ul>
</ul>
</ul>
</h4>
<br>

# Испитна задача

Потребно е да се развие веб апликација за управување со археолошки пронаоѓалишта.

## Функционални барања

- **(20 поени)** Потребно е на патеките `/` и `/archaeological-sites` да прикажете листа од сите археолошки
  пронаоѓалишта користејќи го темплејтот `list.html`. Дополнително, тука треба да овозможите пагинација на
  пронаоѓалиштата.
    - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_list_10pt`
      и `test_pagination_10pt`.

- **(20 поени)** Потребно е да се имплементира додавање на ново пронаоѓалиште. При клик на копчето **Add new
  archaeological site** од темплејтот `list.html`, потребно е да се прикаже темплејтот `form.html` на патеката
  `/archaeological-sites/add`,
  каде при
  клик
  на **Submit** ќе се креира и запише ново пронаоѓалиште во базата на податоци. Потоа треба да се прикаже
  страната `/archaeological-sites`.
    - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_create_10pt`
      и `test_create_mvc_10pt`.

- **(5 поени)** Потребно е да се имплементира бришење на археолошко пронаоѓалиште. При клик на копчето **Delete** од
  темплејтот `list.html`, потребно е да се избрише пронаоѓалиштето од базата на податоци. Потоа треба да се прикаже
  страната `/archaeological-sites`.
    - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_delete_3pt`
      и `test_delete_mvc_2pt`.

- **(20 поени)** Потребно е да се имплементира промена на детали за археолошко пронаоѓалиште. При клик на копчето **Edit
  ** од
  темплејтот `list.html`, потребно е да се прикаже темплејтот `form.html` на патеката `/archaeological-sites/edit/[id]`,
  при што
  во `<input>` елементите ќе се прикажат вредностите за пронаоѓалиштето што се менува. При клик на **Submit** треба да
  се запише промената на пронаоѓалиштето во базата на податоци. Потоа треба да се прикаже страната
  `/archaeological-sites`.
    - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_edit_10pt` и `test_edit_mvc_10pt`.

- **(5 поени)** Потребно е да се имплементира затворање на археолошко пронаоѓалиште, доколку пронаоѓалиштето е отворено.
  При клик на
  копчето **Close** од темплејтот `list.html`, потребно е да се промени соодветното поле од моделот. Потоа
  треба да се прикаже
  страната `/archaeological-sites`.
  - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_additional_functionality_3pt`
    и `test_additional_functionality_mvc_2pt`.

- **(20 поени)** Потребно е да конфигурирате најава на `/login` и одјава на `/logout`. Притоа, јавни се патеките `/`
  и `/archaeological-sites`, додека сите останати страници треба да се видливи само за корисник со улога admin.
  Дополнително,
  кај `list.html` копчињата **Edit**, **Delete**, **Add new archaeological site** и **Close** треба да се видливи само
  за корисник
  кој има улога admin. Копчето **Close** треба да е видливо само дококу пронаоѓалиштето е отворено.
    - Имплементацијата на оваа функционалност може да ја проверите со
      тестовите `test_security_urls_10pt` и `test_security_buttons_10pt`.

- **(10 поени)** Потребно е да овозможите пребарување на археолошките пронаоѓалишта по име (дали испратениот текст се
  содржи во променлицата `name`), површина на арехолошко пронаоѓалиште (археолошки пронаоѓалишта поголеми од внесената
  површина), рејтинг на пронаоѓалиштата (рејтинг поголем од внесениот), периодот на пронаоѓалиштето и локацијата преку
  формата со `id="filter-form"` во темплејтот `list.html`. Резултатите од пребарувањето треба да се прикажат на истата
  страница, при што ќе се прикажат само археолошките пронаоѓалишта чии имиња го содржат испратениот текст, имаат
  поголема површина од внесената, имаат поголем рејтинг од внесениот, се од избраниот периодот и се на на избраната
  локација. Филтрирањето се
  извршува само според внесените
  полиња (ако се празни, се игнорира филтрирањето по тој критериум).
    - Имплементацијата на оваа функционалност може да ја проверите со тестовите `test_filter_5pt`
      и `test_filter_service_5pt`.

**ВАЖНО:** Сите споменати тестови се наоѓаат во класата `SeleniumScenarioTest`.

## Поставување на решението

Тестовите мора задолжително да ги извршите, затоа што на тој начин го испраќате вашето решение за прегледување. За
проверка дали успешно е поставено вашето решение пристепете на
патеката [185.153.49.149/submit/[index]](http://185.153.49.149/submit/index),
каде наместо `[index]` ќе го наведете вашиот индекс, кој претходно ќе го поставите во `TODO` вредноста на текстот.

Тие ќе ви помогнат да ја проверите точноста на вашата имплементација, но и ќе испратат информации до нашиот сервер за
тоа до каде функционира вашата апликација. Ќе се гледа кодот само на студентите кај кои барем една
проверка (`ExamAssert`) ќе помине успешно.

**НЕ Е ДОЗВОЛЕНО МЕНУВАЊЕ НА ТЕСТОВИТЕ, НИТУ БИЛО КОЈ ДЕЛ ОД `test` ПАКЕТОТ, освен внесување на вашиот индекс!!!**

**ЗАДОЛЖИТЕЛНО ВНЕСЕТЕ ГО ВАШИОТ ИНДЕКС НА СООДВЕТНОТО МЕСТО ОЗНАЧЕНО СО `TODO` ВО КЛАСАТА `SeleniumScenarioTest`!!!**

## Техничко упатство:

- Во пакетот `mk.ukim.finki.wp.jan2025g1.model` веќе се креирани класите кои го репрезентираат моделот.
  Потребно е да извршите нивно мапирање со соодветните JPA анотации за моделот успешно да се сними во базата на
  податоци.
  Притоа важат следните услови:
  - Еднo археолошко пронаоѓалиште може да се наоѓа на точно една локација, додека пак една локација може да има повеќе
    археолошки пронаоѓалишта.
  - Идентификаторите за `ArchaeologicalSite` и `SiteLocation` треба да бидат автоматски генерирани.
- Во пакетот `mk.ukim.finki.wp.exam.jan2025g1.service` се веќе дефинирани интерфејсите за сервисната логика.
  За секој од методите имате опис што треба да биде имплементирано. Потребно е да се имплементираат овие интерфејси во
  соодветните класи во пакетот `mk.ukim.finki.wp.exam.jan2025g1.service.impl`. Во коментарите на методите се објаснети
  дополнителни услови (доколку ги има) кои треба да ги исполни методот.
- Класите од пакетот `mk.ukim.finki.wp.exam.jan2025g1.repository` треба да ги дополните со потребните методи кои ви се
  потребни за да ја овозможите функционалноста на имплементацијата на сервисниот слој. Тие треба да се изведат од
  класата `JpaRepository` од Spring Data.
- Потребно е да ја анотирате класата `DataInitializer` и нејзините соодветни методи, така што при стартување на
  апликацијата ќе се изврши методот `initData`.
- Во класата `mk.ukim.finki.wp.exam.jan2025g1.ArchaeologicalSiteController` се дефинирани сите методи кои се потребни.
  За секој од методите имате опис што треба да биде имплементирано. Потребно е овие handler методи да ги мапирате со
  користење само на HTTP GET и POST барања.
- Дополнете ги темплејтите со соодветните **Thymeleaf** атрибути за да се постигнат бараните функционалности.
  Притоа, ако недостасуваат одредени елементи и атрибути, може да ги додадете, но **НЕ СМЕЕ** да ги менувате `id`
  и `class` својствата на тековните елементи.
  Во коментари се дадени описи за елементите кои треба да се повторуваат, како и кои методи од контролерот треба да се
  повикаат.
- Потребно е да конфигурирате најава и одјава на корисници со Spring Security во класата `SecurityConfig`.
  Во самата класа има опис што треба да биде имплементирано.